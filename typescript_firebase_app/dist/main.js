(()=>{var e,t,n,o="https://sample-ts-app-default-rtdb.firebaseio.com/boards.json";function c(){var e={nickname:n.value,message:t.value,posted:(new Date).getTime()};!function(e,t){fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){console.log(t.statusText),d(e)}))}(o,e)}function a(){fetch(o,{method:"DELETE"}).then((function(e){console.log(e.statusText),d(o)}))}function d(t){fetch(t).then((function(e){return e.json()})).then((function(t){var n="<thead>\n            <tr><th>Message</th>\n            <th>Nickname</th><th>posted</th></tr>\n        </thead><tbody>",o="";for(var c in t){var a=t[c];o="<tr><td>"+a.message+"</td><td>"+a.nickname+"</td><td>"+new Date(a.posted).toLocaleString()+"</td></tr>"+o}n+=o+"</tbody>",e.innerHTML=n}))}window.addEventListener("load",(function(){t=document.querySelector("#message"),n=document.querySelector("#nickname"),e=document.querySelector("#table"),document.querySelector("#btn").onclick=c,document.querySelector("#delete").onclick=a,d(o)}))})();